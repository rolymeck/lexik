<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{fragment/common :: head(_)}">
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
  </head>
  <body>
    <nav th:replace="~{fragment/navbar.html :: nav}"></nav>

    <main class="container mt-5">
      <th:block th:if="${!isCurrentUser}">
        <a
          class="btn btn-info"
          th:href="@{/u/subscribe/{id}(id=${userChannel.id})}"
          th:if="${!isSubscriber}"
          >Подписаться</a
        >

        <a
          class="btn btn-info"
          th:href="@{/u/subscribe/{id}(id=${userChannel.id})}"
          th:if="${isSubscriber}"
          >Отписаться</a
        >
      </th:block>

      <h3>[[${userChannel.username}]]</h3>
      <div class="row">
        <div class="col">
          <div class="card">
            <div class="card-body">
              <div class="card-title">Подписки</div>
              <h3 class="card-text">
                <a th:href="@{/u/subscriptions/{id}/list(id=${userChannel.id})}"
                  >[[${subscriptionsCount}]]</a
                >
              </h3>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card">
            <div class="card-body">
              <div class="card-title">Подписчики</div>
              <h3 class="card-text">
                <a href="/u/subscribers/{id}/list(id=${userChannel.id})}"
                  >[[${subscribersCount}]]</a
                >
              </h3>
            </div>
          </div>
        </div>
      </div>
      <th:block
        th:if="${isCurrentUser}"
        th:insert="~{fragment/message.html :: editor}"
      ></th:block>
      <th:block th:insert="~{fragment/message.html :: list}"> </th:block>
    </main>

    <th:block th:insert="~{fragment/common :: bootstrap}" />
  </body>
</html>
